"use strict";var namespacer=function(e){var t=e.split("."),n=window;if(t.length)for(var r=0;r<t.length;r++){var o=t[r];void 0===n[o]&&(n[o]={}),n=n[o]}};namespacer("seniorExpo.utility"),seniorExpo.utility.flexDetect=function(e,t,n){return{init:function(){void 0!==e.createElement("div").style.flex||t("body").addClass("no-flex")}}}(document,jQuery),$(function(){seniorExpo.utility.flexDetect.init()}),namespacer("baltimoreCounty.utility"),baltimoreCounty.utility.numericStringTools=function(){var e=function(e){return/[\$]/.test(e[0])&&e.length>1?1:0},t=function(t){var r=e(t),o=t.slice(r),i=n(o);return"number"==typeof i?i:t},n=function(e){var t=e.match(/^\.{0,1}(\d+[\,\.]{0,1})*\d+\b/);return t?parseFloat(t[0].split(",").join("")):e};return{getIndexOfFirstDigit:e,extractNumbersIfPresent:t,getFirstSetOfNumbersAndRemoveNonDigits:n}}(),namespacer("baltimoreCounty"),baltimoreCounty.contentFilter=function(e){var t=function(t){t=t||{};var o=t.wrapper||".bc-filter-content",a=t.searchBox||".bc-filter-form .bc-filter-form-filter",l=t.clearButton||".bc-filter-form .bc-filter-form-clearButton",f=t.errorMessage||".bc-filter-noResults",u=t.contentType||"list",d=r(o),h=r(a),v=r(l),m=r(f),p=e(".icon-clear");m.hide(),h.on("keyup",function(t){var r=e(t.currentTarget).val();switch(n(r.length?"clear":"search"),u){case"table":s(d,r,m);break;case"list":i(d,r,m)}}),h.closest("form").on("submit",function(e){return!1}),v.on("click",function(){c(d,h,m)}),p.on("click",function(){c(d,h,m,function(){n("search")})})},n=function(t,n){setTimeout(function(){var r=e(".icon-search"),o=e(".icon-clear"),i={top:0,opacity:0},a={top:"25px",opacity:1};"search"===t&&o.is(":visible")&&o.animate(i,150,function(){r.animate(a,150,function(){"function"==typeof n&&n()})}),"clear"===t&&r.is(":visible")&&r.animate(i,150,function(){o.animate(a,150,function(){"function"==typeof n&&n()})})},0)},r=function(t){var n=e(t);if(0===n.length)throw'No elements for "'+t+'" were found.';return n},o=function(t,n,r){var o=r.trim().toLowerCase().replace(",","").split(" ");return t.find(n).filter(function(t,n){var r=e(n).text().toLowerCase().replace(",","");return o.every(function(e){return r.indexOf(e)>-1})})},i=function(e,t,n){var r=o(e,"ul li",t);e.find("li").not(r).hide(),r.show();var i=e.children("div").find("li").not('[style="display: none;"]').closest("div");e.children("div").not(i).hide(),i.show(),0===i.length?n.show():n.hide()},a=function(e,t,n){e.parent().children(t).has("td").css("background-color",n)},s=function(e,t,n){var r=o(e,"tr",t);e.find("tr").has("td").not(r).hide(),r.show(),0===r.length?(n.show(),e.find("tr").has("th").hide()):(n.hide(),e.find("tr").has("th").show()),a(r,"tr:visible:even","#ebebeb"),a(r,"tr:visible:odd","#fff")},c=function(e,t,n,r){var o=e.find("li, div, tr");o.show(),a(o.filter("tr"),"tr:visible:even","#ebebeb"),a(o.filter("tr"),"tr:visible:odd","#fff"),t.val(""),n.hide(),"function"==typeof r&&r()};return{init:t}}(jQuery),namespacer("seniorExpo"),seniorExpo.contraster=function(e,t,n){var r={master:{normal:"/sebin/h/e/master.min.css",high:"/sebin/x/u/master-high-contrast.min.css"},home:{normal:"/sebin/r/d/home.min.css",high:"/sebin/f/p/home-high-contrast.min.css"}},o=function(n){var o=e("#stylesheet-master"),i=e("#stylesheet-home");if(o.length){var a=o.attr("href");o.attr("href",a===r.master.normal?r.master.high:r.master.normal),t.setItem("isHighContrast",a===r.master.normal)}if(i.length){var s=i.attr("href");i.attr("href",s===r.home.normal?r.home.high:r.home.normal)}};return{init:function(){var n=e("#contrastButton");n.length&&n.on("click",o),"true"===t.getItem("isHighContrast")?n.trigger("click"):t.setItem("isHighContrast","false")}}}(jQuery,localStorage),$(function(){seniorExpo.contraster.init()}),namespacer("seniorExpo"),seniorExpo.nav=function(e,t){var n=void 0,r=function(t){var n=e(t.currentTarget),r=n.siblings("nav");r.find(".has-dropdown").on("click",function(t){r.find(".dropdown").not(e(t.target).siblings(".dropdown")).removeClass("active"),e(t.target).siblings(".dropdown").toggleClass("active")}),r.toggleClass("active")},o=function(t){var r=t.which||t.keyCode,o=e(t.currentTarget),i=o.closest(".has-dropdown").find(".dropdown");13===r&&(n.not(i).removeClass("active"),i.toggleClass("active")),9===r&&o.is(".has-dropdown > span, .has-dropdown > a")&&n.removeClass("active")},i=function(t){var r=t.which||t.keyCode,o=e(t.target);9===r&&0===o.closest("nav").length&&n.removeClass("active")};return{init:function(){var t=e(".hamburger-menu"),a=e("header nav .has-dropdown span, header nav .has-dropdown a"),s=e("body");n=e("header nav .dropdown"),t.on("click",r),a.on("keyup",o),s.on("keyup",i)}}}(jQuery),$(function(){seniorExpo.nav.init()}),namespacer("baltimoreCounty"),baltimoreCounty.niftyTables=function(e,t,n){var r=0,o=!0,i=function(e,n){var i=l(e,r).toLowerCase(),f=l(n,r).toLowerCase(),u=t.extractNumbersIfPresent(i),d=t.extractNumbersIfPresent(f);return a(o?s:c,u,d)},a=function(e,t,n){return e(t,n)},s=function(e,t){return e>t?1:t>e?-1:0},c=function(e,t){return e<t?1:t<e?-1:0},l=function(t,n){var r=e(t).find("td").eq(n),o=r.find("p");return o.length?o.text():r.text()},f=function(t){var n=e(t.target).closest("a"),a=n.closest("table"),s=a.find("tr").has("td");r=n.closest("th").index(),o=!(n.hasClass("sort-ascending")||n.hasClass("sort-descending"))||n.hasClass("sort-descending"),o?n.removeClass("sort-descending").addClass("sort-ascending"):n.removeClass("sort-ascending").addClass("sort-descending"),n.closest("tr").find("a").not(n).removeClass("sort-ascending").removeClass("sort-descending"),s.detach(),s.sort(i),a.append(s),u(s,"tr:visible:even","#ebebeb"),u(s,"tr:visible:odd","#fff")},u=function(e,t,n){e.parent().children(t).has("td").css("background-color",n)};return{init:function(){var t=(e("table.nifty-table"),e(".nifty-table").filter(".nifty-table-sortable")),n=t.find("th");if(t.length){n.children().length?n.children().wrapInner('<a href="javascript:;" class="btn-sort" role="button"></a>'):n.wrapInner('<a href="javascript:;" class="btn-sort" role="button"></a>'),n.find(".btn-sort").on("click",f)}}}}(jQuery,baltimoreCounty.utility.numericStringTools),$(document).ready(function(){baltimoreCounty.niftyTables.init()}),namespacer("seniorExpo"),seniorExpo.searchBoxer=function(e,t,n){return{init:function(){e("#search-button").on("click",function(n){var r=e("#search-box").val();t.location="/PowerOfAge/search-results?search="+r}),e("#search-box").on("keyup",function(t){13===(t.which||t.keyCode)&&e("#search-button").trigger("click")})}}}(jQuery,window),$(function(){seniorExpo.searchBoxer.init()}),namespacer("seniorExpo"),seniorExpo.sponsorLister=function(e,t){var n=void 0,r=function(t,n){var r=e(t).find("#SEContentResults table"),i=r.find("tr").has("td"),a=[];e.each(i,function(t,n){var r={name:e(n).find("td").eq(0).text(),imageUrl:e(n).find("td").eq(1).text(),websiteUrl:e(n).find("td").eq(2).text(),order:e(n).find("td").eq(3).text()};a.push(r)}),a=o(a),n(a)},o=function(e){return e=e.sort(i),e=e.sort(a)},i=function(e,t){var n=e.name.toLowerCase(),r=t.name.toLowerCase();return n<r?-1:n>r?1:0},a=function(e,t){var n=1*e.order,r=1*t.order;return n<r?-1:n>r?1:0},s=function(){e.ajax("/PowerOfAge/_data/Power_of_Age_Sponsors").done(function(e){r(e,c)}).fail(function(e){console.log(e)})},c=function(t){var r=e('<div class="sponsor-row flex flex-row flex-space-around flex-wrap"></div>');e.each(t,function(e,t){r.append('<div class="sponsor"><a href="'+t.websiteUrl+'" title="Visit '+t.name+'" target="_blank"><img src="'+t.imageUrl+'" alt="Logo for '+t.name+'" /></a></div>')}),n.append(r)};return{init:function(){n=e("#sponsorship-list"),n.length&&s()}}}(jQuery),$(function(){seniorExpo.sponsorLister.init()});