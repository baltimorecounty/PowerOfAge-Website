"use strict";var namespacer=function(n){var e=n.split("."),t=window;if(e.length)for(var r=0;r<e.length;r++){var o=e[r];void 0===t[o]&&(t[o]={}),t=t[o]}};namespacer("seniorExpo.utility"),seniorExpo.utility.flexDetect=function(n,e,t){return{init:function(){void 0!==n.createElement("div").style.flex||e("body").addClass("no-flex")}}}(document,jQuery),$(function(){seniorExpo.utility.flexDetect.init()}),namespacer("baltimoreCounty.utility"),baltimoreCounty.utility.numericStringTools=function(){var n=function(n){return/[\$]/.test(n[0])&&n.length>1?1:0},e=function(e){var r=n(e),o=e.slice(r),i=t(o);return"number"==typeof i?i:e},t=function(n){var e=n.match(/^\.{0,1}(\d+[\,\.]{0,1})*\d+\b/);return e?parseFloat(e[0].split(",").join("")):n};return{getIndexOfFirstDigit:n,extractNumbersIfPresent:e,getFirstSetOfNumbersAndRemoveNonDigits:t}}(),namespacer("baltimoreCounty"),baltimoreCounty.contentFilter=function(n){var e=function(e){e=e||{};var o=e.wrapper||".bc-filter-content",a=e.searchBox||".bc-filter-form .bc-filter-form-filter",l=e.clearButton||".bc-filter-form .bc-filter-form-clearButton",f=e.errorMessage||".bc-filter-noResults",u=e.contentType||"list",d=r(o),v=r(a),h=r(l),p=r(f),b=n(".icon-clear");p.hide(),v.on("keyup",function(e){var r=n(e.currentTarget).val();switch(t(r.length?"clear":"search"),u){case"table":s(d,r,p);break;case"list":i(d,r,p)}}),v.closest("form").on("submit",function(n){return!1}),h.on("click",function(){c(d,v,p)}),b.on("click",function(){c(d,v,p,function(){t("search")})})},t=function(e,t){setTimeout(function(){var r=n(".icon-search"),o=n(".icon-clear"),i={top:0,opacity:0},a={top:"25px",opacity:1};"search"===e&&o.is(":visible")&&o.animate(i,150,function(){r.animate(a,150,function(){"function"==typeof t&&t()})}),"clear"===e&&r.is(":visible")&&r.animate(i,150,function(){o.animate(a,150,function(){"function"==typeof t&&t()})})},0)},r=function(e){var t=n(e);if(0===t.length)throw'No elements for "'+e+'" were found.';return t},o=function(e,t,r){var o=r.trim().toLowerCase().replace(",","").split(" ");return e.find(t).filter(function(e,t){var r=n(t).text().toLowerCase().replace(",","");return o.every(function(n){return r.indexOf(n)>-1})})},i=function(n,e,t){var r=o(n,"ul li",e);n.find("li").not(r).hide(),r.show();var i=n.children("div").find("li").not('[style="display: none;"]').closest("div");n.children("div").not(i).hide(),i.show(),0===i.length?t.show():t.hide()},a=function(n,e,t){n.parent().children(e).has("td").css("background-color",t)},s=function(n,e,t){var r=o(n,"tr",e);n.find("tr").has("td").not(r).hide(),r.show(),0===r.length?(t.show(),n.find("tr").has("th").hide()):(t.hide(),n.find("tr").has("th").show()),a(r,"tr:visible:even","#ebebeb"),a(r,"tr:visible:odd","#fff")},c=function(n,e,t,r){var o=n.find("li, div, tr");o.show(),a(o.filter("tr"),"tr:visible:even","#ebebeb"),a(o.filter("tr"),"tr:visible:odd","#fff"),e.val(""),t.hide(),"function"==typeof r&&r()};return{init:e}}(jQuery),namespacer("seniorExpo"),seniorExpo.nav=function(n,e){var t=void 0,r=function(e){var t=n(e.currentTarget),r=t.siblings("nav");r.find(".has-dropdown").on("click",function(e){r.find(".dropdown").not(n(e.target).siblings(".dropdown")).removeClass("active"),n(e.target).siblings(".dropdown").toggleClass("active")}),r.toggleClass("active")},o=function(e){var r=e.which||e.keyCode,o=n(e.currentTarget),i=o.closest(".has-dropdown").find(".dropdown");13===r&&(t.not(i).removeClass("active"),i.toggleClass("active")),9===r&&o.is(".has-dropdown > span, .has-dropdown > a")&&t.removeClass("active")},i=function(e){var r=e.which||e.keyCode,o=n(e.target);9===r&&0===o.closest("nav").length&&t.removeClass("active")};return{init:function(){var e=n(".hamburger-menu"),a=n("header nav .has-dropdown span, header nav .has-dropdown a"),s=n("body");t=n("header nav .dropdown"),e.on("click",r),a.on("keyup",o),s.on("keyup",i)}}}(jQuery),$(function(){seniorExpo.nav.init()}),namespacer("baltimoreCounty"),baltimoreCounty.niftyTables=function(n,e,t){var r=0,o=!0,i=function(n,t){var i=l(n,r).toLowerCase(),f=l(t,r).toLowerCase(),u=e.extractNumbersIfPresent(i),d=e.extractNumbersIfPresent(f);return a(o?s:c,u,d)},a=function(n,e,t){return n(e,t)},s=function(n,e){return n>e?1:e>n?-1:0},c=function(n,e){return n<e?1:e<n?-1:0},l=function(e,t){var r=n(e).find("td").eq(t),o=r.find("p");return o.length?o.text():r.text()},f=function(e){var t=n(e.target).closest("a"),a=t.closest("table"),s=a.find("tr").has("td");r=t.closest("th").index(),o=!(t.hasClass("sort-ascending")||t.hasClass("sort-descending"))||t.hasClass("sort-descending"),o?t.removeClass("sort-descending").addClass("sort-ascending"):t.removeClass("sort-ascending").addClass("sort-descending"),t.closest("tr").find("a").not(t).removeClass("sort-ascending").removeClass("sort-descending"),s.detach(),s.sort(i),a.append(s),u(s,"tr:visible:even","#ebebeb"),u(s,"tr:visible:odd","#fff")},u=function(n,e,t){n.parent().children(e).has("td").css("background-color",t)};return{init:function(){var e=(n("table.nifty-table"),n(".nifty-table").filter(".nifty-table-sortable")),t=e.find("th");if(e.length){t.children().length?t.children().wrapInner('<a href="javascript:;" class="btn-sort" role="button"></a>'):t.wrapInner('<a href="javascript:;" class="btn-sort" role="button"></a>'),t.find(".btn-sort").on("click",f)}}}}(jQuery,baltimoreCounty.utility.numericStringTools),$(document).ready(function(){baltimoreCounty.niftyTables.init()}),namespacer("seniorExpo"),seniorExpo.searchBoxer=function(n,e,t){return{init:function(){n("#search-button").on("click",function(t){var r=n("#search-box").val();e.location="/PowerOfAge/search-results?search="+r}),n("#search-box").on("keyup",function(e){13===(e.which||e.keyCode)&&n("#search-button").trigger("click")})}}}(jQuery,window),$(function(){seniorExpo.searchBoxer.init()}),namespacer("seniorExpo"),seniorExpo.sponsorLister=function(n,e){var t=void 0,r=function(e,t){var r=n(e).find("#SEContentResults table"),i=r.find("tr").has("td"),a=[];n.each(i,function(e,t){var r={name:n(t).find("td").eq(0).text(),imageUrl:n(t).find("td").eq(1).text(),websiteUrl:n(t).find("td").eq(2).text(),line:n(t).find("td").eq(3).text(),isInKind:n(t).find("td").eq(4).text()};a.push(r)}),a=o(a),t(a)},o=function(n){return n=n.sort(i),n=n.sort(a),n=n.sort(s)},i=function(n,e){var t=n.name.toLowerCase(),r=e.name.toLowerCase();return t<r?-1:t>r?1:0},a=function(n,e){var t=1*n.line,r=1*e.line;return t<r?-1:t>r?1:0},s=function(n,e){var t=n.isInKind.toLowerCase(),r=e.isInKind.toLowerCase();return"no"===t&&"yes"===r?-1:"yes"===t&&"no"===r?1:0},c=function(){n.ajax("/PowerOfAge/_data/Power_of_Age_Sponsors").done(function(n){r(n,l)}).fail(function(n){console.log(n)})},l=function(e){var r=n('<div class="sponsor-row flex flex-row flex-space-around flex-wrap"></div>');n.each(e,function(n,e){r.append('<div class="sponsor"><a href="'+e.websiteUrl+'" title="Visit '+e.name+'" target="_blank"><img src="'+e.imageUrl+'" alt="Logo for '+e.name+'" /></a></div>')}),t.append(r)};return{init:function(){t=n("#sponsorship-list"),t.length&&c()}}}(jQuery),$(function(){seniorExpo.sponsorLister.init()});