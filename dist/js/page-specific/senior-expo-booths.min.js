"use strict";namespacer("seniorExpo.pageSpecific"),seniorExpo.pageSpecific.seniorExpoBooths=function(n){var e="",t=function(e,t){n.ajax("/exhibitors/"+e+"-exhibitors.html").done(function(n){t(n)}).fail(function(n){console.log(n)})},i=function(e){for(var t=Array.prototype.slice.call(n(e)),i=[],o=void 0,a=0;a<t.length;a++){var r=n(t[a]).find("#SEContentResults");if(r.length){o=r.find("tbody tr");break}}return n.each(o,function(e,t){var o=n(t).find("td"),a={name:o.eq(0).text(),id:o.eq(1).text(),link:o.eq(0).html()};i.push(a)}),i},o=function(e,t,i){var o=[];n.each(e,function(n,e){o.push(e.id.trim())}),n.each(t,function(t,a){var r=o.indexOf(a.innerText);if(-1!=r){var f=n(a);f.addClass("reserved"),f.is(".feature")&&f.text(e[r].name+" ("+e[r].id.trim()+")"),i(a,e[r])}})},a=function(t,i){var o=n(t.target),a=o.offset(),r=n(".flyout"),f=n("body");if(r.remove(),o.on("mouseleave mouseenter",function(){e=""}),e!=i.id){var s=n('<div class="flyout" style="top: '+a.top+"px; left: "+a.left+"px; display: none; min-width: "+o.outerWidth()+'px"><i class="fa fa-times fa-2x exit"></i><h2>'+i.name+"</h2><p><strong>Booth: "+i.id+"</strong></p></div>"),c=-1===i.link.indexOf("<a")?"":n(i.link).attr("href");c&&s.append('<p><a href="'+c+'" target="_blank" title="Visit '+i.name+'">Visit us online!</a></p>'),f.append(s),s.slideDown(250,function(){e=i.id}),s.on("mouseleave",function(){s.slideUp(250,function(){e=""})}),s.find(".exit").on("click",function(){s.slideUp(250,function(){e=""})})}};return{init:function(e){e=e||(new Date).getFullYear();var r=n(".floorplan td.booth");t(e,function(e){var t=i(e);o(t,r,function(e,t){n(e).on("click mouseenter",function(n){a(n,t)})})})}}}(jQuery);